# Open Librarian ğŸ”

**AI ê¸°ë°˜ ì§€ëŠ¥í˜• ë¬¸ì„œ ê²€ìƒ‰ í”Œë«í¼**

Open Librarianì€ ìµœì‹  AI ê¸°ìˆ ì„ í™œìš©í•œ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œìœ¼ë¡œ, ë²¡í„° ê²€ìƒ‰ê³¼ í‚¤ì›Œë“œ ê²€ìƒ‰ì„ ì§€ëŠ¥ì ìœ¼ë¡œ ê²°í•©í•˜ì—¬ ì •í™•í•˜ê³  ì˜ë¯¸ë¡ ì ìœ¼ë¡œ ê´€ë ¨ì„± ë†’ì€ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° AI ë‹µë³€ ìƒì„±, 8ê°œ ì–¸ì–´ ì§€ì›, ê·¸ë¦¬ê³  ì§ê´€ì ì¸ ì›¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì‚¬ìš©ìì—ê²Œ ìµœê³ ì˜ ê²€ìƒ‰ ê²½í—˜ì„ ì„ ì‚¬í•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” íŠ¹ì§•

- ğŸ¤– **í•˜ì´ë¸Œë¦¬ë“œ AI ê²€ìƒ‰**: ë²¡í„° ê²€ìƒ‰(60%) + í‚¤ì›Œë“œ ê²€ìƒ‰(40%) ê°€ì¤‘ ê²°í•©ìœ¼ë¡œ ìµœì ì˜ ì •í™•ë„ ì‹¤í˜„
- ğŸŒ **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ë‹µë³€**: WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ AI ë‹µë³€ ìƒì„± ë° ì§„í–‰ë¥  ì¶”ì 
- ğŸŒ **8ê°œ ì–¸ì–´ ì™„ì „ ì§€ì›**: í•œêµ­ì–´, ì˜ì–´, ì¼ë³¸ì–´, ì¤‘êµ­ì–´, ìŠ¤í˜ì¸ì–´, í”„ë‘ìŠ¤ì–´, ë…ì¼ì–´, ëŸ¬ì‹œì•„ì–´
- ğŸ“± **ë°˜ì‘í˜• ëª¨ë˜ UI**: Tailwind CSS ê¸°ë°˜ ëª¨ë°”ì¼ ìš°ì„  ì„¤ê³„ + ë‹¤í¬ëª¨ë“œ ì§€ì›
- ğŸš€ **ê³ ì„±ëŠ¥ ë³‘ë ¬ ì²˜ë¦¬**: ë²¡í„°/í‚¤ì›Œë“œ ê²€ìƒ‰ ë™ì‹œ ì‹¤í–‰, ë°°ì¹˜ ì¸ë±ì‹±, ê²°ê³¼ ìºì‹±
- ğŸ“„ **ëŒ€ëŸ‰ ë¬¸ì„œ ì²˜ë¦¬**: JSONL í˜•ì‹ ë°°ì¹˜ ì—…ë¡œë“œ ë° ì‹¤ì‹œê°„ ì§„í–‰ë¥  ëª¨ë‹ˆí„°ë§
- ğŸ” **ì •í™•í•œ ì–¸ì–´ ê°ì§€**: Lingua-Go ê¸°ë°˜ ìë™ ì–¸ì–´ ê°ì§€ ë° ì–¸ì–´ë³„ ìµœì í™”
- ğŸ“Š **ê°œë°œì ì¹œí™”ì **: Swagger API ë¬¸ì„œ, ìƒì„¸í•œ ë¡œê¹…, í—¬ìŠ¤ ì²´í¬ ì§€ì›

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### í•µì‹¬ êµ¬ì„± ìš”ì†Œ

```
                          ğŸŒ Open Librarian Architecture

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸš€ Go API Server   â”‚     â”‚  ğŸ” OpenSearch      â”‚     â”‚  ğŸ§  Qdrant Vector   â”‚
    â”‚                     â”‚â—„â”€â”€â”€â”€â”¤                     â”‚     â”‚                     â”‚
    â”‚  â€¢ HTTP/WebSocket   â”‚     â”‚  â€¢ í‚¤ì›Œë“œ ê²€ìƒ‰       â”‚     â”‚  â€¢ 768ì°¨ì› ì„ë² ë”©    â”‚
    â”‚  â€¢ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§     â”‚     â”‚  â€¢ ë‹¤êµ­ì–´ ë¶„ì„ê¸°     â”‚â—„â”€â”€â”€â”€â”¤  â€¢ ì½”ì‚¬ì¸ ìœ ì‚¬ë„     â”‚
    â”‚  â€¢ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°   â”‚     â”‚  â€¢ BM25 ìŠ¤ì½”ë§      â”‚     â”‚  â€¢ gRPC í†µì‹         â”‚
    â”‚  â€¢ RESTful API      â”‚     â”‚  â€¢ ì „ë¬¸ ê²€ìƒ‰        â”‚     â”‚  â€¢ ë²¡í„° ê²€ìƒ‰        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                                       â–²
              â”‚                                                       â”‚
              â–¼                                                       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ¤– Ollama LLM      â”‚                             â”‚  ğŸ“± Frontend UI     â”‚
    â”‚                     â”‚                             â”‚                     â”‚
    â”‚  â€¢ Gemma 3 (12B)    â”‚                             â”‚  â€¢ Vanilla JS       â”‚
    â”‚  â€¢ ì„ë² ë”© ìƒì„±       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â€¢ Tailwind CSS     â”‚
    â”‚  â€¢ ìš”ì•½ & ë‹µë³€ ìƒì„±  â”‚                             â”‚  â€¢ WebSocket ì—°ê²°   â”‚
    â”‚  â€¢ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ     â”‚                             â”‚  â€¢ IndexedDB ìºì‹œ   â”‚
    â”‚  â€¢ ë‹¤êµ­ì–´ ì§€ì›       â”‚                             â”‚  â€¢ ë°˜ì‘í˜• ë””ìì¸     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         ğŸ”„ Data Flow                                        â”‚
    â”‚  ì‚¬ìš©ì ì¿¼ë¦¬ â†’ ì–¸ì–´ê°ì§€ â†’ ì„ë² ë”©ìƒì„± â†’ ë³‘ë ¬ê²€ìƒ‰ â†’ ê²°ê³¼ê²°í•© â†’ AIë‹µë³€ìƒì„±        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ìˆ  ìŠ¤íƒ

| ì¹´í…Œê³ ë¦¬ | ê¸°ìˆ  ìŠ¤íƒ | ë²„ì „ | ìš©ë„ |
|---------|----------|------|------|
| **Backend** | Go | 1.24+ | ê³ ì„±ëŠ¥ API ì„œë²„ |
| **Web Framework** | Chi Router | v5.2+ | ë¼ìš°íŒ… ë° ë¯¸ë“¤ì›¨ì–´ |
| **Vector DB** | Qdrant | Latest | 768ì°¨ì› ì„ë² ë”© ì €ì¥/ê²€ìƒ‰ |
| **Search Engine** | OpenSearch | 2.13.0 | ì „ë¬¸ ê²€ìƒ‰ ë° ë¶„ì„ |
| **AI/LLM** | Ollama | Latest | ë¡œì»¬ LLM ì„œë²„ |
| **Language Detection** | Lingua-Go | v1.4+ | 8ê°œ ì–¸ì–´ ê°ì§€ |
| **Frontend** | Vanilla JS + Tailwind | Latest | í˜„ëŒ€ì  ì›¹ UI |
| **Real-time** | WebSocket + SSE | Native | ì‹¤ì‹œê°„ í†µì‹  |
| **Container** | Docker + Compose | Latest | ì»¨í…Œì´ë„ˆí™” ë°°í¬ |

### ë°±ì—”ë“œ êµ¬ì¡°

#### ğŸ—ï¸ Go ì„œë²„ ì•„í‚¤í…ì²˜
```
lib/aggregator/api/
â”œâ”€â”€ api.go              # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° AI ì²˜ë¦¬
â””â”€â”€ handlers.go         # HTTP/WebSocket í•¸ë“¤ëŸ¬

lib/client/
â”œâ”€â”€ ollama/            # Ollama AI í´ë¼ì´ì–¸íŠ¸ (HTTP API)
â”œâ”€â”€ opensearch/        # OpenSearch ê²€ìƒ‰ ì—”ì§„ í´ë¼ì´ì–¸íŠ¸
â””â”€â”€ qdrant/           # Qdrant ë²¡í„° DB í´ë¼ì´ì–¸íŠ¸ (gRPC)

lib/util/
â””â”€â”€ language/         # Lingua-Go ê¸°ë°˜ ë‹¤êµ­ì–´ ê°ì§€
```

#### ğŸ”§ ì£¼ìš” ì»´í¬ë„ŒíŠ¸
- **API Server**: Chi ë¼ìš°í„° ê¸°ë°˜ RESTful API ë° WebSocket ì§€ì›
- **Search Aggregator**: ë²¡í„° + í‚¤ì›Œë“œ ê²€ìƒ‰ ê²°ê³¼ í†µí•© ì²˜ë¦¬
- **AI Pipeline**: ë¬¸ì„œ ìš”ì•½, í‚¤ì›Œë“œ ì¶”ì¶œ, ì„ë² ë”© ìƒì„±
- **Progress Tracking**: ì‹¤ì‹œê°„ ì‘ì—… ì§„í–‰ë¥  ì¶”ì  ì‹œìŠ¤í…œ

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

#### ğŸ“± í´ë¼ì´ì–¸íŠ¸ ì•„í‚¤í…ì²˜
```
cmd/server/public/
â”œâ”€â”€ index.html         # ë©”ì¸ HTML í…œí”Œë¦¿
â”œâ”€â”€ css/styles.css     # ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼
â””â”€â”€ js/
    â”œâ”€â”€ app.js         # ì•± ì´ˆê¸°í™” ë° ë©”ì¸ ë¡œì§
    â”œâ”€â”€ search.js      # ê²€ìƒ‰ ê¸°ëŠ¥ (HTTP/WebSocket)
    â”œâ”€â”€ articles.js    # ë¬¸ì„œ ì¶”ê°€ ë° ë°°ì¹˜ ì—…ë¡œë“œ
    â”œâ”€â”€ ui.js          # UI ìƒíƒœ ê´€ë¦¬ ë° ë„¤ë¹„ê²Œì´ì…˜
    â”œâ”€â”€ database.js    # IndexedDB ë¡œì»¬ ì €ì¥ì†Œ
    â””â”€â”€ i18n.js        # ë‹¤êµ­ì–´ ì§€ì› (5ê°œ ì–¸ì–´)
```

#### ğŸ¨ UI íŠ¹ì§•
- **ë°˜ì‘í˜• ë””ìì¸**: Tailwind CSS ê¸°ë°˜ ëª¨ë°”ì¼ ìš°ì„  ì„¤ê³„
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: WebSocketìœ¼ë¡œ ê²€ìƒ‰/ì—…ë¡œë“œ ì§„í–‰ë¥  í‘œì‹œ
- **ì˜¤í”„ë¼ì¸ ì§€ì›**: IndexedDBë¥¼ í™œìš©í•œ ê²€ìƒ‰ íˆìŠ¤í† ë¦¬ ìºì‹±
- **ë‹¤êµ­ì–´ UI**: í•œêµ­ì–´, ì˜ì–´, ì¤‘êµ­ì–´, ì¼ë³¸ì–´, ìŠ¤í˜ì¸ì–´ ì§€ì›

## ğŸ”¬ í•µì‹¬ ê¸°ëŠ¥ ë° ì›ë¦¬

### 1. í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œ

Open Librarianì˜ í•µì‹¬ì€ ë‘ ê°€ì§€ ê²€ìƒ‰ ë°©ì‹ì„ ê²°í•©í•œ í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ë²•ì…ë‹ˆë‹¤:

#### ğŸ” ë²¡í„° ê²€ìƒ‰ (Semantic Search)
- **ì›ë¦¬**: ë¬¸ì„œì™€ ì¿¼ë¦¬ë¥¼ 768ì°¨ì› ë²¡í„°ë¡œ ë³€í™˜í•˜ì—¬ ì˜ë¯¸ì  ìœ ì‚¬ì„± ì¸¡ì •
- **êµ¬í˜„**: Ollama `paraphrase-multilingual` ëª¨ë¸ë¡œ ì„ë² ë”© ìƒì„± â†’ Qdrantì—ì„œ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê²€ìƒ‰
- **ì¥ì **: ë™ì˜ì–´, ìœ ì‚¬ ê°œë…, ë¬¸ë§¥ì  ì˜ë¯¸ ì´í•´
- **ì ìš© ì˜ì—­**: ì œëª© + ìš”ì•½ ë²¡í„° ê²€ìƒ‰ìœ¼ë¡œ ì •í™•ë„ í–¥ìƒ

#### ğŸ“ í‚¤ì›Œë“œ ê²€ìƒ‰ (Lexical Search)
- **ì›ë¦¬**: BM25 ì•Œê³ ë¦¬ì¦˜ ê¸°ë°˜ ì „í†µì  í…ìŠ¤íŠ¸ ë§¤ì¹­
- **êµ¬í˜„**: OpenSearchì˜ ë‹¤êµ­ì–´ ë¶„ì„ê¸° í™œìš© (Nori, Kuromoji, SmartCN ë“±)
- **ì¥ì **: ì •í™•í•œ ìš©ì–´ ë§¤ì¹­, ë¹ ë¥¸ ê²€ìƒ‰ ì†ë„
- **ì ìš© ì˜ì—­**: ì œëª©, ë‚´ìš©, ìš”ì•½ í•„ë“œì—ì„œ ë‹¤êµ­ì–´ ì „ë¬¸ ê²€ìƒ‰

#### ğŸ§® í•˜ì´ë¸Œë¦¬ë“œ ì ìˆ˜ ê²°í•© ì•Œê³ ë¦¬ì¦˜
```go
// ì‹¤ì œ êµ¬í˜„ëœ ì ìˆ˜ ê²°í•© ì•Œê³ ë¦¬ì¦˜ (ë²¡í„° 60%, í‚¤ì›Œë“œ 40% ê°€ì¤‘í‰ê· )
func (s *Server) combineSearchResults(vectorResults []qdrant.VectorSearchResult, 
    vectorArticles []opensearch.Article, keywordResults []opensearch.SearchResult, 
    limit int) []SearchResultWithScore {
    
    const minScoreThreshold = 0.55 // í’ˆì§ˆ í•„í„°ë§ì„ ìœ„í•œ ìµœì†Œ ì ìˆ˜ ì„ê³„ê°’

    // ê²€ìƒ‰ ê²°ê³¼ ê²°í•© ë° ì¤‘ë³µ ì œê±°
    resultMap := make(map[string]SearchResultWithScore)
    
    // ë²¡í„° ê²€ìƒ‰ ê²°ê³¼ ì¶”ê°€
    for _, result := range vectorResults {
        articleID := s.extractArticleID(result.ID)
        if article, exists := vectorArticleMap[articleID]; exists {
            resultMap[articleID] = SearchResultWithScore{
                Article: article,
                Score:   result.Score, // ë²¡í„° ì ìˆ˜ëŠ” ì´ë¯¸ 0-1 ì •ê·œí™”ë¨
                Source:  "vector",
            }
        }
    }
    
    // í‚¤ì›Œë“œ ê²€ìƒ‰ ê²°ê³¼ ì¶”ê°€ (ì¤‘ë³µ ì‹œ ì ìˆ˜ ê²°í•©)
    for _, result := range keywordResults {
        if existing, exists := resultMap[result.Article.ID]; exists {
            // ì •ê·œí™”ëœ ì ìˆ˜ë¥¼ ê°€ì¤‘í‰ê· ìœ¼ë¡œ ê²°í•©: ë²¡í„° 60%, í‚¤ì›Œë“œ 40%
            normalizedVectorScore := existing.Score
            normalizedKeywordScore := s.normalizeKeywordScore(result.Score)
            combinedScore := (0.6 * normalizedVectorScore) + (0.4 * normalizedKeywordScore)
            
            resultMap[result.Article.ID] = SearchResultWithScore{
                Article: result.Article,
                Score:   combinedScore,
                Source:  "hybrid",
            }
        } else {
            resultMap[result.Article.ID] = SearchResultWithScore{
                Article: result.Article,
                Score:   s.normalizeKeywordScore(result.Score),
                Source:  "keyword",
            }
        }
    }
    
    // ìµœì†Œ ì ìˆ˜ ì„ê³„ê°’ í•„í„°ë§ ë° ì ìˆ˜ ê¸°ì¤€ ì •ë ¬
    var combinedResults []SearchResultWithScore
    for _, result := range resultMap {
        if result.Score >= minScoreThreshold {
            combinedResults = append(combinedResults, result)
        }
    }
    
    return combinedResults[:min(len(combinedResults), limit)]
}

// BM25 ì ìˆ˜ë¥¼ 0-1 ë²”ìœ„ë¡œ ì •ê·œí™”
func (s *Server) normalizeKeywordScore(score float64) float64 {
    if score <= 0 {
        return 0.0
    }
    // ë¡œê·¸ ìŠ¤ì¼€ì¼ë§: log(1 + score) / log(1 + max_expected_score)
    maxExpectedScore := 20.0
    normalized := math.Log(1+score) / math.Log(1+maxExpectedScore)
    return math.Min(1.0, math.Max(0.0, normalized))
}
```

### 2. AI ê¸°ë°˜ ë¬¸ì„œ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

#### ğŸ“„ ë¬¸ì„œ ì¸ë±ì‹± í”„ë¡œì„¸ìŠ¤
```mermaid
graph TD
    A[ì›ë³¸ ë¬¸ì„œ ì…ë ¥] --> B[ì–¸ì–´ ê°ì§€ Lingua-Go]
    B --> C[AI ìš”ì•½ ìƒì„± Ollama]
    C --> D[í‚¤ì›Œë“œ ì¶”ì¶œ Ollama]
    D --> E[ì„ë² ë”© ìƒì„± 768ì°¨ì›]
    E --> F[ë³‘ë ¬ ì €ì¥]
    F --> G[OpenSearch í…ìŠ¤íŠ¸]
    F --> H[Qdrant ë²¡í„°]
```

**ì§„í–‰ë¥  ì¶”ì **: WebSocketì„ í†µí•œ ì‹¤ì‹œê°„ ì²˜ë¦¬ ìƒíƒœ ì—…ë°ì´íŠ¸
- ì–¸ì–´ ê°ì§€ â†’ ìš”ì•½ ìƒì„± â†’ í‚¤ì›Œë“œ ì¶”ì¶œ â†’ ì„ë² ë”© ìƒì„± â†’ ì €ì¥

#### ğŸ” ê²€ìƒ‰ ë° ë‹µë³€ ìƒì„± í”„ë¡œì„¸ìŠ¤
```mermaid
graph TD
    A[ì‚¬ìš©ì ì¿¼ë¦¬] --> B[ì–¸ì–´ ê°ì§€]
    B --> C[ì¿¼ë¦¬ ì„ë² ë”© ìƒì„±]
    C --> D[ë³‘ë ¬ ê²€ìƒ‰]
    D --> E[ë²¡í„° ê²€ìƒ‰ Qdrant]
    D --> F[í‚¤ì›Œë“œ ê²€ìƒ‰ OpenSearch]
    E --> G[ê²°ê³¼ ê²°í•© & ì¤‘ë³µ ì œê±°]
    F --> G
    G --> H[ì ìˆ˜ ê¸°ë°˜ ì •ë ¬]
    H --> I[ìƒìœ„ ê²°ê³¼ ì„ ë³„]
    I --> J[AI ìŠ¤íŠ¸ë¦¬ë° ë‹µë³€ ìƒì„±]
```

### 3. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‹œìŠ¤í…œ

#### ğŸŒŠ WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì²˜ë¦¬
- **ê²€ìƒ‰ ìŠ¤íŠ¸ë¦¬ë°**: ê²€ìƒ‰ ê²°ê³¼ì™€ AI ë‹µë³€ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë°
- **ë¬¸ì„œ ì²˜ë¦¬ ì§„í–‰ë¥ **: ë¬¸ì„œ ì¶”ê°€ ì‹œ ë‹¨ê³„ë³„ ì§„í–‰ë¥  ì‹¤ì‹œê°„ í‘œì‹œ
- **ë°°ì¹˜ ì—…ë¡œë“œ**: ëŒ€ëŸ‰ ë¬¸ì„œ ì²˜ë¦¬ ì‹œ ê°œë³„ ì§„í–‰ë¥  ë° ì „ì²´ ì§„í–‰ë¥  ì¶”ì 

#### ğŸ“¡ í´ë°± ë©”ì»¤ë‹ˆì¦˜
```javascript
// WebSocket ì‹¤íŒ¨ ì‹œ HTTP í´ë°±
try {
    await handleWebSocketSearch(query);
} catch (wsError) {
    console.warn('WebSocket failed, falling back to HTTP');
    await handleRegularSearch(query);
}
```

### 4. ë‹¤êµ­ì–´ ì§€ì› ì‹œìŠ¤í…œ

#### ğŸŒ ì§€ì› ì–¸ì–´ ë° ë¶„ì„ê¸°
| ì–¸ì–´ | ì½”ë“œ | OpenSearch ë¶„ì„ê¸° | íŠ¹ì§• |
|------|------|------------------|------|
| í•œêµ­ì–´ | ko | nori | í˜•íƒœì†Œ ë¶„ì„, ìì†Œ ë¶„ë¦¬ |
| ì˜ì–´ | en | english | ì–´ê°„ ì¶”ì¶œ, ë¶ˆìš©ì–´ ì œê±° |
| ì¼ë³¸ì–´ | ja | kuromoji | í˜•íƒœì†Œ ë¶„ì„, íˆë¼ê°€ë‚˜/ê°€íƒ€ì¹´ë‚˜ |
| ì¤‘êµ­ì–´ | zh | smartcn | ì¤‘êµ­ì–´ ë¶„ì‚¬, ê°„ì²´/ë²ˆì²´ |
| ìŠ¤í˜ì¸ì–´ | es | spanish | ì–´ê°„ ì¶”ì¶œ, ì•…ì„¼íŠ¸ ì²˜ë¦¬ |
| í”„ë‘ìŠ¤ì–´ | fr | french | ì–´ê°„ ì¶”ì¶œ, ëŒ€ì†Œë¬¸ì |
| ë…ì¼ì–´ | de | german | ë³µí•©ì–´ ë¶„ë¦¬, ì›€ë¼ìš°íŠ¸ |
| ëŸ¬ì‹œì•„ì–´ | ru | russian | í‚¤ë¦´ ë¬¸ì, ê²©ë³€í™” |

#### ğŸ” ì–¸ì–´ë³„ ê²€ìƒ‰ ìµœì í™”
- **ìë™ ì–¸ì–´ ê°ì§€**: ì¿¼ë¦¬ ì–¸ì–´ ìë™ ê°ì§€ë¡œ ì ì ˆí•œ ë¶„ì„ê¸° ì„ íƒ
- **ì–¸ì–´ í•„í„°ë§**: ê²€ìƒ‰ ì‹œ ì–¸ì–´ë³„ í•„í„°ë§ìœ¼ë¡œ ì •í™•ë„ í–¥ìƒ
- **ë‹¤êµ­ì–´ ì„ë² ë”©**: `paraphrase-multilingual` ëª¨ë¸ë¡œ ì–¸ì–´ê°„ ì˜ë¯¸ ë²¡í„° í†µí•©

## ğŸ› ï¸ API ì—”ë“œí¬ì¸íŠ¸

### ğŸ“„ ë¬¸ì„œ ê´€ë¦¬
| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… | ê¸°ëŠ¥ |
|--------|------------|------|------|
| `POST` | `/api/v1/articles` | ìƒˆ ë¬¸ì„œ ì¶”ê°€ | ë‹¨ì¼ ë¬¸ì„œ ì¸ë±ì‹± |
| `GET` | `/api/v1/articles/{id}` | íŠ¹ì • ë¬¸ì„œ ì¡°íšŒ | ID ê¸°ë°˜ ë¬¸ì„œ ê²€ìƒ‰ |
| `GET` | `/api/v1/articles/ws` | ì‹¤ì‹œê°„ ë¬¸ì„œ ì¶”ê°€ | WebSocket ì§„í–‰ë¥  ì¶”ì  |
| `GET` | `/api/v1/articles/bulk/ws` | ëŒ€ëŸ‰ ë¬¸ì„œ ì—…ë¡œë“œ | WebSocket JSONL ë°°ì¹˜ ì²˜ë¦¬ |

### ğŸ” ê²€ìƒ‰
| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… | ê¸°ëŠ¥ |
|--------|------------|------|------|
| `POST` | `/api/v1/search` | í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ | AI ë‹µë³€ í¬í•¨ ê²€ìƒ‰ |
| `POST` | `/api/v1/search/stream` | ìŠ¤íŠ¸ë¦¬ë° ê²€ìƒ‰ | SSE ì‹¤ì‹œê°„ ë‹µë³€ |
| `GET` | `/api/v1/search/keyword` | í‚¤ì›Œë“œ ê²€ìƒ‰ | ì „ë¬¸ ê²€ìƒ‰ë§Œ |
| `GET` | `/api/v1/search/ws` | WebSocket ê²€ìƒ‰ | ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹  |

### ğŸ”§ ìœ í‹¸ë¦¬í‹°
| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… | ê¸°ëŠ¥ |
|--------|------------|------|------|
| `GET` | `/health` | ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ | í—¬ìŠ¤ ì²´í¬ |
| `GET` | `/api/v1/languages` | ì§€ì› ì–¸ì–´ ëª©ë¡ | ë‹¤êµ­ì–´ ì •ë³´ |

### ğŸŒ ì™¸ë¶€ API (ì½ê¸° ì „ìš©)
| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|--------|------------|------|
| `GET` | `/api/v1/external/articles` | ë¬¸ì„œ ëª©ë¡ ì¡°íšŒ |
| `GET` | `/api/v1/external/articles/{id}` | íŠ¹ì • ë¬¸ì„œ ìƒì„¸ ì¡°íšŒ |
| `POST` | `/api/v1/external/search` | ì™¸ë¶€ ê²€ìƒ‰ API |
| `GET` | `/api/v1/external/search/keyword` | ì™¸ë¶€ í‚¤ì›Œë“œ ê²€ìƒ‰ |

### ğŸ“Š ì›¹ UI ì—”ë“œí¬ì¸íŠ¸
| ê²½ë¡œ | ì„¤ëª… | ê¸°ëŠ¥ |
|------|------|------|
| `/` | ë©”ì¸ ì›¹ ì¸í„°í˜ì´ìŠ¤ | ê²€ìƒ‰ ë° ë¬¸ì„œ ê´€ë¦¬ |
| `/swagger/` | API ë¬¸ì„œ | Swagger UI |

### ğŸ’¡ API ì‚¬ìš© ì˜ˆì‹œ

#### ë¬¸ì„œ ì¶”ê°€ (cURL)
```bash
curl -X POST http://localhost:8080/api/v1/articles \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ë¨¸ì‹ ëŸ¬ë‹ ê¸°ì´ˆ ê°€ì´ë“œ",
    "content": "ë¨¸ì‹ ëŸ¬ë‹ì€ ë°ì´í„°ë¡œë¶€í„° íŒ¨í„´ì„ í•™ìŠµí•˜ëŠ” AI ê¸°ìˆ ì…ë‹ˆë‹¤...",
    "author": "ê¹€ê°œë°œì",
    "original_url": "https://example.com/ml-guide"
  }'
```

#### í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (cURL)
```bash
curl -X POST http://localhost:8080/api/v1/search \
  -H "Content-Type: application/json" \
  -d '{
    "query": "ë¨¸ì‹ ëŸ¬ë‹ê³¼ ë”¥ëŸ¬ë‹ì˜ ì°¨ì´ì ì€?",
    "size": 5
  }'
```

#### JavaScript ìŠ¤íŠ¸ë¦¬ë° ê²€ìƒ‰
```javascript
const eventSource = new EventSource('/api/v1/search/stream', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ query: "AI ê¸°ìˆ  ë™í–¥", size: 5 })
});

eventSource.addEventListener('answer', (event) => {
  console.log('AI ë‹µë³€:', event.data);
});

eventSource.addEventListener('sources', (event) => {
  const sources = JSON.parse(event.data);
  console.log('ì°¸ê³  ë¬¸ì„œ:', sources);
});
```

## ğŸš€ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

### ğŸ“‹ í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **Docker** (v20.0+) & **Docker Compose** (v2.0+)
- **Ollama** (ìµœì‹  ë²„ì „)
- **Go** (v1.24+) - ì†ŒìŠ¤ ë¹Œë“œ ì‹œ
- **8GB+ RAM** - OpenSearch ê¶Œì¥ ë©”ëª¨ë¦¬

### ğŸ”§ 1ë‹¨ê³„: ì¸í”„ë¼ ì„œë¹„ìŠ¤ ì‹œì‘

```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/snowmerak/open-librarian.git
cd open-librarian

# 2. ëª¨ë“  ì„œë¹„ìŠ¤ ì‹œì‘ (OpenSearch, Qdrant, API ì„œë²„)
./scripts/setup-services.sh

# 3. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
curl http://localhost:8080/health

# 4. API ì„œë²„ë§Œ ì¬ë¹Œë“œ (ê°œë°œ ì‹œ)
./scripts/rebuild-server.sh
```

### ğŸ¤– 2ë‹¨ê³„: Ollama ì„¤ì •

```bash
# Ollama ì„¤ì¹˜ (macOS)
brew install ollama

# ë˜ëŠ” ì§ì ‘ ë‹¤ìš´ë¡œë“œ
curl -fsSL https://ollama.ai/install.sh | sh

# Ollama ì„œë²„ ì‹œì‘
ollama serve

# í•„ìš”í•œ ëª¨ë¸ ë‹¤ìš´ë¡œë“œ (ë³„ë„ í„°ë¯¸ë„)
ollama pull gemma3:12b                    # í…ìŠ¤íŠ¸ ìƒì„± ëª¨ë¸
ollama pull paraphrase-multilingual       # ë‹¤êµ­ì–´ ì„ë² ë”© ëª¨ë¸
```

### ğŸ§ª 3ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

#### ğŸ“„ ë¬¸ì„œ ì¶”ê°€ í…ŒìŠ¤íŠ¸
```bash
curl -X POST http://localhost:8080/api/v1/articles \
  -H "Content-Type: application/json" \
  -d '{
    "title": "AIì™€ ë¨¸ì‹ ëŸ¬ë‹ì˜ ì°¨ì´ì ",
    "content": "ì¸ê³µì§€ëŠ¥(AI)ëŠ” ì¸ê°„ì˜ ì§€ëŠ¥ì„ ëª¨ë°©í•˜ëŠ” ê´‘ë²”ìœ„í•œ ê¸°ìˆ  ë¶„ì•¼ì…ë‹ˆë‹¤. ë¨¸ì‹ ëŸ¬ë‹ì€ AIì˜ í•˜ìœ„ ë¶„ì•¼ë¡œ, ë°ì´í„°ë¡œë¶€í„° í•™ìŠµí•˜ì—¬ ì˜ˆì¸¡ì´ë‚˜ ê²°ì •ì„ ë‚´ë¦¬ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ë‹¤ë£¹ë‹ˆë‹¤. ë”¥ëŸ¬ë‹ì€ ë¨¸ì‹ ëŸ¬ë‹ì˜ í•œ ë¶„ì•¼ë¡œ, ì‹ ê²½ë§ì„ ì‚¬ìš©í•˜ì—¬ ë³µì¡í•œ íŒ¨í„´ì„ í•™ìŠµí•©ë‹ˆë‹¤.",
    "author": "í™ê¸¸ë™",
    "original_url": "https://example.com/ai-ml-article"
  }'
```

#### ğŸ” ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
```bash
# í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (AI ë‹µë³€ í¬í•¨)
curl -X POST http://localhost:8080/api/v1/search \
  -H "Content-Type: application/json" \
  -d '{
    "query": "AIì™€ ë¨¸ì‹ ëŸ¬ë‹ì˜ ê´€ê³„ëŠ”?",
    "size": 5
  }'

# í‚¤ì›Œë“œ ì „ìš© ê²€ìƒ‰
curl "http://localhost:8080/api/v1/search/keyword?q=ë¨¸ì‹ ëŸ¬ë‹&size=3"
```

#### ğŸ“Š ë°°ì¹˜ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸
```bash
# JSONL íŒŒì¼ ìƒì„±
cat > test_articles.jsonl << EOF
{"title": "Python ê¸°ì´ˆ", "content": "Pythonì€ ê°„ë‹¨í•˜ê³  ì½ê¸° ì‰¬ìš´ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì…ë‹ˆë‹¤.", "author": "ê¹€ê°œë°œ"}
{"title": "JavaScript ì…ë¬¸", "content": "JavaScriptëŠ” ì›¹ ê°œë°œì˜ í•µì‹¬ ì–¸ì–´ì…ë‹ˆë‹¤.", "author": "ì´ì½”ë”©"}
EOF

# ì›¹ UIì—ì„œ JSONL íŒŒì¼ ì—…ë¡œë“œ ë˜ëŠ” API í˜¸ì¶œ
```

### ğŸŒ 4ë‹¨ê³„: ì ‘ê·¼ ì •ë³´

| ì„œë¹„ìŠ¤ | URL | ì„¤ëª… |
|--------|-----|------|
| **ì›¹ ì¸í„°í˜ì´ìŠ¤** | http://localhost:8080 | ë©”ì¸ ê²€ìƒ‰/ê´€ë¦¬ UI |
| **Swagger API ë¬¸ì„œ** | http://localhost:8080/swagger/ | ëŒ€í™”í˜• API ë¬¸ì„œ |
| **OpenSearch** | http://localhost:9200 | ê²€ìƒ‰ ì—”ì§„ ì§ì ‘ ì ‘ê·¼ |
| **OpenSearch ëŒ€ì‹œë³´ë“œ** | http://localhost:5601 | ë°ì´í„° ì‹œê°í™” |
| **Qdrant ëŒ€ì‹œë³´ë“œ** | http://localhost:6333/dashboard | ë²¡í„° DB ê´€ë¦¬ |

### ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

#### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

**1. OpenSearch ë©”ëª¨ë¦¬ ë¶€ì¡±**
```bash
# Docker ë©”ëª¨ë¦¬ ì„¤ì • í™•ì¸
docker stats opensearch

# ë©”ëª¨ë¦¬ ì„¤ì • ì¡°ì • (docker-compose.yaml)
environment:
  - "OPENSEARCH_JAVA_OPTS=-Xms4g -Xmx4g"  # 8GB â†’ 4GBë¡œ ì¡°ì •
```

**2. Ollama ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨**
```bash
# ìˆ˜ë™ ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
ollama pull gemma3:12b --verbose

# ëŒ€ì•ˆ ëª¨ë¸ ì‚¬ìš©
ollama pull llama3.2:3b  # ë” ì‘ì€ ëª¨ë¸
```

**3. í¬íŠ¸ ì¶©ëŒ**
```bash
# ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
sudo lsof -i :8080
sudo lsof -i :9200

# ë‹¤ë¥¸ í¬íŠ¸ë¡œ ë³€ê²½ (docker-compose.yaml)
ports:
  - "8081:8080"  # API ì„œë²„
  - "9201:9200"  # OpenSearch
```

**4. Qdrant ì—°ê²° ì‹¤íŒ¨**
```bash
# Qdrant ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
docker logs qdrant

# gRPC í¬íŠ¸ í™•ì¸
curl http://localhost:6333/collections
```

## ğŸ“Š ì„±ëŠ¥ ë° í™•ì¥ì„±

### ì‹œìŠ¤í…œ íŠ¹ì§•

#### ì„±ëŠ¥ ìµœì í™”
- **ë³‘ë ¬ ê²€ìƒ‰**: ë²¡í„° ê²€ìƒ‰ê³¼ í‚¤ì›Œë“œ ê²€ìƒ‰ì„ ë™ì‹œ ì‹¤í–‰
- **ìŠ¤ë§ˆíŠ¸ ìºì‹±**: ê²€ìƒ‰ ê²°ê³¼ ë° ì„ë² ë”© ìºì‹±ìœ¼ë¡œ ì‘ë‹µ ì†ë„ í–¥ìƒ
- **ë°°ì¹˜ ì²˜ë¦¬**: ëŒ€ëŸ‰ ë¬¸ì„œ ì²˜ë¦¬ ì‹œ ë°°ì¹˜ ì¸ë±ì‹±ìœ¼ë¡œ íš¨ìœ¨ì„± ê·¹ëŒ€í™”
- **ì—°ê²° í’€ë§**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìµœì í™”

#### í™•ì¥ì„±
- **ìˆ˜í‰ í™•ì¥**: ê° ì»´í¬ë„ŒíŠ¸ ë…ë¦½ì  ìŠ¤ì¼€ì¼ë§ ê°€ëŠ¥
- **ì–¸ì–´ í™•ì¥**: ìƒˆë¡œìš´ ì–¸ì–´ ì§€ì› ìš©ì´ (Lingua-Go ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©)
- **ëª¨ë¸ êµì²´**: Ollamaë¥¼ í†µí•œ ë‹¤ì–‘í•œ LLM ëª¨ë¸ ì‚¬ìš© ê°€ëŠ¥
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: ì»¨í…Œì´ë„ˆ ê¸°ë°˜ìœ¼ë¡œ ê°œë³„ ì„œë¹„ìŠ¤ ìŠ¤ì¼€ì¼ë§

#### ì‹ ë¢°ì„±
- **í—¬ìŠ¤ ì²´í¬**: ëª¨ë“  ì„œë¹„ìŠ¤ì˜ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- **ì¥ì•  ë³µêµ¬**: ì¼ë¶€ ì„œë¹„ìŠ¤ ì¥ì•  ì‹œì—ë„ ì œí•œì  ê¸°ëŠ¥ ì œê³µ
- **ë°ì´í„° ì¼ê´€ì„±**: OpenSearchì™€ Qdrant ê°„ ë°ì´í„° ë™ê¸°í™”
- **ì—ëŸ¬ í•¸ë“¤ë§**: í¬ê´„ì ì¸ ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…

## ê°œë°œ ë° ë°°í¬

### ë¡œì»¬ ê°œë°œ
```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
go mod download

# ê°œë°œ ì„œë²„ ì‹¤í–‰ (ì¸í”„ë¼ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•¨)
go run cmd/server/main.go
```

### Docker ë¹Œë“œ
```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t open-librarian .

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰ (ì¸í”„ë¼ ì„œë¹„ìŠ¤ ì—°ê²°)
docker run -p 8080:8080 \
  -e OPENSEARCH_URL=http://opensearch:9200 \
  -e QDRANT_HOST=qdrant \
  -e OLLAMA_URL=http://host.docker.internal:11434 \
  open-librarian
```

### í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ëª… | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|--------|------|
| `PORT` | 8080 | API ì„œë²„ í¬íŠ¸ |
| `OPENSEARCH_URL` | http://localhost:9200 | OpenSearch ì—°ê²° URL |
| `OLLAMA_URL` | http://localhost:11434 | Ollama ì„œë²„ URL |
| `QDRANT_HOST` | localhost | Qdrant í˜¸ìŠ¤íŠ¸ |
| `QDRANT_PORT` | 6334 | Qdrant gRPC í¬íŠ¸ |

---

**Open Librarian**ì€ ìµœì‹  AI ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ì§€ì‹ ê²€ìƒ‰ì˜ ìƒˆë¡œìš´ íŒ¨ëŸ¬ë‹¤ì„ì„ ì œì‹œí•©ë‹ˆë‹¤. ì •í™•í•œ ê²€ìƒ‰ ê²°ê³¼ì™€ ì‹¤ì‹œê°„ AI ë‹µë³€ì„ í†µí•´ ì‚¬ìš©ìì˜ ì§€ì‹ íƒêµ¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
